import{a as T,b as F,c as w,d as D,e as O}from"./chunk-7OKCGRHM.js";import"./chunk-3STGELMA.js";import{Ia as S,Ka as s,Pb as C,Xa as m,Za as g,_ as b,ab as c,ba as f,bb as h,cb as x,db as v,eb as i,fb as n,gb as d,ib as M,jb as u,pb as p,qb as _,rb as E,tb as y}from"./chunk-XZEVKK2T.js";function V(e,t){e&1&&(i(0,"h3",6),p(1,"Errores encontrados"),n())}function k(e,t){if(e&1&&(i(0,"li"),p(1),n()),e&2){let r=u();s(),_(r.errors)}}function I(e,t){e&1&&(i(0,"li"),p(1,"No se encontraron errores"),n())}var G=(()=>{let t=class t{constructor(){this.errors=[]}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=f({type:t,selectors:[["app-gpt-message-ortography"]],inputs:{userScore:"userScore",text:"text",errors:"errors"},standalone:!0,features:[y],decls:14,vars:4,consts:[[1,"col-start-1","col-end-9","p-3","rounded-lg"],[1,"flex","flex-row","items-start"],[1,"flex","items-center","justify-center","h-10","w-10","rounded-full","bg-green-600","flex-shrink-0"],[1,"relative","ml-3","text-sm","bg-black","bg-opacity-25","pt-3","pb-2","px-4","shadow","rounded-xl"],[1,"text-3xl"],["class","text-2xl"],[1,"text-2xl"]],template:function(o,a){o&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),p(3," G "),n(),i(4,"div",3)(5,"h3",4),p(6),n(),i(7,"p"),p(8),n(),m(9,V,2,0,"h3",5),i(10,"ul"),x(11,k,2,1,"li",null,h,!1,I,2,0,"li"),n()()()()),o&2&&(s(6),E("Puntaje: ",a.userScore,""),s(2),_(a.text),s(),c(9,a.errors.length>0?9:-1),s(2),v(a.errors))},dependencies:[C],encapsulation:2,changeDetection:0});let e=t;return e})();function q(e,t){if(e&1&&d(0,"app-gpt-message-ortography",5),e&2){let r=u().$implicit;g("text",r.text)("errors",r.info.errors)("text",r.text)("userScore",r.info.userScore)}}function j(e,t){if(e&1&&d(0,"app-my-message",6),e&2){let r=u().$implicit;g("text",r.text)}}function A(e,t){if(e&1&&m(0,q,1,4,"app-gpt-message-ortography",5)(1,j,1,1),e&2){let r=t.$implicit;c(0,r.isGpt?0:1)}}function P(e,t){e&1&&d(0,"app-typing-loader")}var ae=(()=>{let t=class t{constructor(){this.messages=S([]),this.isLoading=S(!1),this.openAiService=b(O)}handleMessage(l){console.log({prompt:l}),this.isLoading.set(!0),this.messages.update(o=>[...o,{isGpt:!1,text:l}]),this.openAiService.checkOrtography(l).subscribe(o=>{this.isLoading.set(!1),console.log(o),this.messages.update(a=>[...a,{isGpt:!0,text:o.message,info:o}])})}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=f({type:t,selectors:[["app-ortography-page"]],standalone:!0,features:[y],decls:8,vars:2,consts:[[1,"chat-container"],[1,"chat-messages"],[1,"grid","gap-y-2"],["text","Escribe aqui el texto que quieres que revise"],["placeholder","Escribe aqui lo que deseas",3,"disableCorrections","onMessage"],[3,"text","errors","userScore"],[3,"text"]],template:function(o,a){o&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),d(3,"app-chat-message",3),x(4,A,2,1,null,null,h),m(6,P,1,0,"app-typing-loader"),n()(),i(7,"app-text-message-box",4),M("onMessage",function(N){return a.handleMessage(N)}),n()()),o&2&&(s(4),v(a.messages()),s(2),c(6,a.isLoading()?6:-1),s(),g("disableCorrections",!0))},dependencies:[C,T,F,D,w,G],encapsulation:2,changeDetection:0});let e=t;return e})();export{ae as default};
