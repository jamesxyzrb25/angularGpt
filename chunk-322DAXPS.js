import{a as P,b as T,c as S,d as F,e as b}from"./chunk-Q642C5C3.js";import"./chunk-3STGELMA.js";import{Ia as p,Ka as r,Pb as M,Xa as m,Za as l,_ as f,ab as c,ba as C,bb as _,cb as h,db as x,eb as g,fb as d,gb as a,ib as y,jb as u,tb as v}from"./chunk-XZEVKK2T.js";function L(e,t){if(e&1&&a(0,"app-chat-message",5),e&2){let o=u().$implicit;l("text",o.text)}}function A(e,t){if(e&1&&a(0,"app-my-message",5),e&2){let o=u().$implicit;l("text",o.text)}}function B(e,t){if(e&1&&m(0,L,1,1,"app-chat-message",5)(1,A,1,1),e&2){let o=t.$implicit;c(0,o.isGpt?0:1)}}function E(e,t){e&1&&a(0,"app-typing-loader")}var H=(()=>{let t=class t{constructor(){this.messages=p([]),this.isLoading=p(!1),this.openAiService=f(b)}handleMessage(i){console.log({prompt:i}),this.isLoading.set(!0),this.messages.update(n=>[...n,{isGpt:!1,text:i}]),this.openAiService.prosConsDiscuss(i).subscribe(n=>{this.isLoading.set(!1),console.log("Res page: ",n),this.messages.update(s=>[...s,{isGpt:!0,text:n.content}])})}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=C({type:t,selectors:[["app-pros-cons-page"]],standalone:!0,features:[v],decls:8,vars:1,consts:[[1,"chat-container"],[1,"chat-messages"],[1,"grid","gap-y-2"],["text","\xBFQue deseas comparar?"],["placeholder","Escribe aqui lo que deseas",3,"onMessage"],[3,"text"]],template:function(n,s){n&1&&(g(0,"div",0)(1,"div",1)(2,"div",2),a(3,"app-chat-message",3),h(4,B,2,1,null,null,_),m(6,E,1,0,"app-typing-loader"),d()(),g(7,"app-text-message-box",4),y("onMessage",function(D){return s.handleMessage(D)}),d()()),n&2&&(r(4),x(s.messages()),r(2),c(6,s.isLoading()?6:-1))},dependencies:[M,P,T,F,S],encapsulation:2,changeDetection:0});let e=t;return e})();export{H as default};
